library(readxl)
library(readxl)
library(openxlsx)
library(dplyr)
library(deaR)
install.packages("readxl")
library(dplyr)
library(readxl)
library(dplyr)
library(Benchmarking)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source("functions.R")
source("graphics2.R")
data_2019 <- consolidar_datos_por_anio(2019)
resultados_2019_in <- analisis_dea_in(data_2019)
chile_vrs(resultados_2019_in)
region <- region_vrs(resultados_2019_in, 13)
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
data_2019 <- consolidar_datos_por_anio(2019)
resultados_2019_in <- analisis_dea_in(data_2019)
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
source("functions.R")
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
source("functions.R")
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
resultados_2014_in <- analisis_dea_in(data_2014)
source("functions.R")
resultados_2014_in <- analisis_dea_in(data_2014)
-
resultados_2014_in <- analisis_dea_in(data_2014)
View(data_2014)
str(data_2014)
str(data_2019)
View(data_2014)
source("functions.R")
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
resultados_2014_in <- analisis_dea_in(data_2014)
data_2015 <- consolidar_datos_por_anio(2015)
resultados_2015_in <- analisis_dea_in(data_2015)
data_2016 <- consolidar_datos_por_anio(2016)
data_2016 <- consolidar_datos_por_anio(2016)
data_2016 <- consolidar_datos_por_anio(2016)
data_2016 <- consolidar_datos_por_anio(2016)
resultados_2016_in <- analisis_dea_in(data_2016)
data_2017 <- consolidar_datos_por_anio(2017)
data_2017 <- consolidar_datos_por_anio(2017)
source("functions.R")
data_2017 <- consolidar_datos_por_anio(2017)
source("functions.R")
data_2017 <- consolidar_datos_por_anio(2017)
source("functions.R")
data_2017 <- consolidar_datos_por_anio(2017)
resultados_2017_in <- analisis_dea_in(data_2017)
data_2016 <- consolidar_datos_por_anio(2016)
data_2018 <- consolidar_datos_por_anio(2018)
resultados_2018_in <- analisis_dea_in(data_2018)
data_2019 <- consolidar_datos_por_anio(2019)
resultados_2019_in <- analisis_dea_in(data_2019)
data_2020 <- consolidar_datos_por_anio(2020)
resultados_2020_in <- analisis_dea_in(data_2020)
library(readxl)
library(dplyr)
library(Benchmarking)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source("functions.R")
source("graphics2.R")
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
resultados_2014_in <- analisis_dea_in(data_2014)
View(resultados_2014_in)
data_2015 <- consolidar_datos_por_anio(2015)
resultados_2015_in <- analisis_dea_in(data_2015)
data_2016 <- consolidar_datos_por_anio(2016)
data_2018 <- consolidar_datos_por_anio(2018)
resultados_2018_in <- analisis_dea_in(data_2018)
data_2019 <- consolidar_datos_por_anio(2019)
resultados_2019_in <- analisis_dea_in(data_2019)
resultados_combinados <- reduce(list(resultados_2014_in, resultados_2015_in,
resultados_2016_in, resultados_2017_in,
resultados_2018_in, resultados_2019_in),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
install.packages("purrr")
library(purrr)
resultados_combinados <- reduce(list(resultados_2014_in, resultados_2015_in,
resultados_2016_in, resultados_2017_in,
resultados_2018_in, resultados_2019_in),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
resultados_2016_in <- analisis_dea_in(data_2016)
data_2016 <- consolidar_datos_por_anio(2016)
resultados_2016_in <- analisis_dea_in(data_2016)
data_2016 <- consolidar_datos_por_anio(2016)
library(readxl)
library(dplyr)
library(Benchmarking)
library(corrplot)
library(purrr)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source("functions.R")
source("graphics2.R")
# ----------------------------------------------- #
# Periodo previo a pandemia #
data_2014 <- consolidar_datos_por_anio(2014)
resultados_2014_in <- analisis_dea_in(data_2014)
data_2015 <- consolidar_datos_por_anio(2015)
resultados_2015_in <- analisis_dea_in(data_2015)
data_2016 <- consolidar_datos_por_anio(2016)
resultados_2016_in <- analisis_dea_in(data_2016)
data_2016 <- consolidar_datos_por_anio(2016)
data_2017 <- consolidar_datos_por_anio(2017)
resultados_2017_in <- analisis_dea_in(data_2017)
data_2018 <- consolidar_datos_por_anio(2018)
resultados_2018_in <- analisis_dea_in(data_2018)
data_2019 <- consolidar_datos_por_anio(2019)
resultados_2019_in <- analisis_dea_in(data_2019)
resultados_combinados <- reduce(list(resultados_2014_in, resultados_2015_in,
resultados_2017_in,
resultados_2018_in, resultados_2019_in),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
# Renombrar las columnas para reflejar los años
colnames(resultados_combinados)[-1] <- c("Resultados_2014", "Resultados_2015",
"Resultados_2016", "Resultados_2017",
"Resultados_2018", "Resultados_2019")
# Renombrar las columnas para reflejar los años
colnames(resultados_combinados)[-1] <- c("Resultados_2014", "Resultados_2015",
"Resultados_2017",
"Resultados_2018", "Resultados_2019")
View(resultados_combinados)
resultados_combinados <- reduce(list(resultados_2014_in$vrs, resultados_2015_in$vrs,
resultados_2017_in$vrs,
resultados_2018_in$vrs, resultados_2019_in$vrs),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
resultados_combinados <- reduce(list(resultados_2014_in$vrs, resultados_2015_in$vrs,
resultados_2017_in$vrs,
resultados_2018_in$vrs, resultados_2019_in$vrs),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
resultados_2014_in_df <- data.frame(IdEstablecimiento = resultados_2014_in$IdEstablecimiento, vrs = resultados_2014_in$vrs)
resultados_2015_in_df <- data.frame(IdEstablecimiento = resultados_2015_in$IdEstablecimiento, vrs = resultados_2015_in$vrs)
resultados_2017_in_df <- data.frame(IdEstablecimiento = resultados_2017_in$IdEstablecimiento, vrs = resultados_2017_in$vrs)
resultados_2018_in_df <- data.frame(IdEstablecimiento = resultados_2018_in$IdEstablecimiento, vrs = resultados_2018_in$vrs)
resultados_2019_in_df <- data.frame(IdEstablecimiento = resultados_2019_in$IdEstablecimiento, vrs = resultados_2019_in$vrs)
# Luego, aplicar reduce y full_join para combinar todos los dataframes por 'IdEstablecimiento'
resultados_combinados <- reduce(list(resultados_2014_in_df, resultados_2015_in_df,
resultados_2017_in_df, resultados_2018_in_df,
resultados_2019_in_df),
function(x, y) full_join(x, y, by = "IdEstablecimiento"))
# Renombrar las columnas para indicar el año
colnames(resultados_combinados)[-1] <- c("vrs_2014", "vrs_2015", "vrs_2017", "vrs_2018", "vrs_2019")
# Visualizar los resultados combinados
print(resultados_combinados)
View(resultados_combinados)
resultados_combinados <- resultados_combinados %>%
mutate(
diff_2014_2015 = vrs_2015 - vrs_2014,
diff_2015_2017 = vrs_2017 - vrs_2015,
diff_2017_2018 = vrs_2018 - vrs_2017,
diff_2018_2019 = vrs_2019 - vrs_2018
)
# Calcular el promedio de las diferencias por fila, ignorando NA si existen
resultados_combinados <- resultados_combinados %>%
mutate(
avg_diff = rowMeans(select(., diff_2014_2015, diff_2015_2017, diff_2017_2018, diff_2018_2019), na.rm = TRUE)
)
# Visualizar los resultados
print(resultados_combinados)
iteracion_1 <- comparativa(resultados_2014_in, resultados_2015_in, resultados_2017_in, resultados_2018_in, resultados_2019_in)
source("functions.R")
iteracion_1 <- comparativa(resultados_2014_in, resultados_2015_in, resultados_2017_in, resultados_2018_in, resultados_2019_in)
View(iteracion_1)
View(iteracion_1)
cor(iteracion[, c("vrs_2014", "vrs_2015", "vrs_2017", "vrs_2018", "vrs_2019")])
cor(iteracion_1[, c("vrs_2014", "vrs_2015", "vrs_2017", "vrs_2018", "vrs_2019")])
data_2016 <- consolidar_datos_por_anio(2016)
data_2016 <- consolidar_datos_por_anio(2016)
source("functions.R")
data_2016 <- consolidar_datos_por_anio(2016)
source("functions.R")
data_2016 <- consolidar_datos_por_anio(2016)
source("functions.R")
data_2016 <- consolidar_datos_por_anio(2016)
