library(readxl)
library(readxl)
library(openxlsx)
library(dplyr)
library(deaR)
install.packages("readxl")
library(dplyr)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
source("functions.R")
source("graphics.R")
# ==============================================
#  PROCESAMIENTO DE DATOS
# ==============================================
#  CONSOLIDADO DE DATOS POR AÑO
anios <- 2014:2023
anios_pre_pandemia <- c("2014", "2015", "2016", "2017", "2018", "2019")
anios_pandemia <- c("2020", "2021", "2022", "2023")
load("dataR/datos.RData")
load("dataR/resultados_eficiencia.RData")
load("dataR/resultados_eficiencia_atipicos.RData")
load("dataR/malmquist.RData")
load("dataR/determinantes.RData")
malmquist_indices <- list(
in_vrs = malmquist("vrs", "in"),
in_crs = malmquist("crs", "in"),
out_vrs = malmquist("vrs", "out"),
out_crs = malmquist("crs", "out")
)
View(malmquist_indices)
# ===================================================
# MALMQUIST
# ===================================================
malmquist <- function(datos,tipo, orientacion) {
calcular_malmquist(datos, tipo, orientacion)
}
malmquist_indices <- list(
in_vrs = malmquist(datos,"vrs", "in"),
in_crs = malmquist(datos,"crs", "in"),
out_vrs = malmquist(datos,"vrs", "out"),
out_crs = malmquist(datos,"crs", "out")
)
#  ELIMINACIÓN DE DATOS ATÍPICOS
datos_sin_atipicos <- datos_filtrados_atipicos(datos,resultados)
View(datos_sin_atipicos)
malmquist_indices_sin_atipicos <- list(
in_vrs = malmquist(datos_sin_atipicos[["vrs_oo"]],"vrs", "in"),
in_crs = malmquist(datos_sin_atipicos[["vrs_oo"]],"crs", "in"),
out_vrs = malmquist(datos_sin_atipicos[["vrs_oo"]],"vrs", "out"),
out_crs = malmquist(datos_sin_atipicos[["vrs_oo"]],"crs", "out")
)
View(malmquist_indices_sin_atipicos)
# DATOS SIN ATIPICOS PARA VRS OO
malmquist_indices <- list(
in_vrs = malmquist(datos_sin_atipicos[["vrs_oo"]],"vrs", "in"),
in_crs = malmquist(datos_sin_atipicos[["vrs_oo"]],"crs", "in"),
out_vrs = malmquist(datos_sin_atipicos[["vrs_oo"]],"vrs", "out"),
out_crs = malmquist(datos_sin_atipicos[["vrs_oo"]],"crs", "out")
)
procesar_y_graficar(malmquist_indices)
resultados_sin_atipicos <- list(
resultados_sin_atipicos_vrs_io = list(io = resultados_iteracion(datos_sin_atipicos[["vrs_io"]], "io"),oo = resultados_iteracion(datos_sin_atipicos[["vrs_io"]], "oo")),
resultados_sin_atipicos_crs_io = list(io = resultados_iteracion(datos_sin_atipicos[["crs_io"]], "io"),oo = resultados_iteracion(datos_sin_atipicos[["crs_io"]], "oo")),
resultados_sin_atipicos_vrs_oo = list(io = resultados_iteracion(datos_sin_atipicos[["vrs_oo"]], "io"),oo = resultados_iteracion(datos_sin_atipicos[["vrs_oo"]], "oo")),
resultados_sin_atipicos_crs_oo = list(io = resultados_iteracion(datos_sin_atipicos[["crs_oo"]], "io"),oo = resultados_iteracion(datos_sin_atipicos[["crs_oo"]], "oo"))
)
resultados_combinaciones_sin_atipicos <- list(
oo_vrs = combinar_resultados_in_out(resultados$oo[["original"]], resultados_sin_atipicos[["vrs_oo"]]$oo[["original"]])
)
View(resultados_sin_atipicos)
