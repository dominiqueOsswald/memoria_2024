library(readxl)
library(readxl)
library(openxlsx)
library(dplyr)
library(deaR)
install.packages("readxl")
library(dplyr)
# ----- OUTPUTS -----
# EGRESOS
# CONSULTAS
# DIAS DE CAMAS OCUPADAS
output_2019 <- intermediate_df %>%
left_join(consultas_2019, by = "IdEstablecimiento") %>%
left_join(dias_cama_ocupadas_2019, by = "IdEstablecimiento")
source("~/Escritorio/Memoria/Taller - anio 2019/Taller.R")
source("~/Escritorio/Memoria/Taller - anio 2019/Taller.R")
#Código, región y nombre de todos los hospitales
hospitales <- read.csv("hospitals.csv")  %>%
rename("IdEstablecimiento" = "hospital_id")
# INPUTS
#DATOS FINANCIEROS - sub 21 GASTOS DE PERSONAL ; sub 22 GASTOS DE BIENES Y SERVICIOS
financiero_2019 <- read.csv("financial_data_2019.csv") %>% select(hospital_id, X21_value, X22_value) %>% rename("IdEstablecimiento" = "hospital_id")
#CAMAS
dias_cama_disponibles_2019 <-  datos_2019 %>% filter(Glosa == "Dias Cama Disponibles") %>%  select(1:5) %>% rename("dias_cama_disponible" = "Acum") %>% select(-Glosa)
#----- OUTPUT -----
#EGRESOS
egresos_2019 <-  datos_2019 %>% filter(Glosa == "Numero de Egresos") %>%  select(1:5) %>% rename("egresos" = "Acum") %>% select(-Glosa)
library(readxl)
library(dplyr)
library(Benchmarking)
library(corrplot)
setwd("/home/domi/Escritorio/Memoria/Taller - anio 2019")
source("funciones.R")
source("data.R")
source("graphics.R")
# ----- INPUTS -----
#DATOS FINANCIEROS - sub 21 GASTOS DE PERSONAL ; sub 22 GASTOS DE BIENES Y SERVICIOS
#CAMAS
input_2019 <- left_join(financiero_2019, dias_cama_disponibles_2019 %>% select(IdEstablecimiento,dias_cama_disponible), by = "IdEstablecimiento")
# ----- OUTPUTS -----
# EGRESOS
# CONSULTAS
# DIAS DE CAMAS OCUPADAS
output_2019 <- intermediate_df %>%
left_join(consultas_2019, by = "IdEstablecimiento") %>%
left_join(dias_cama_ocupadas_2019, by = "IdEstablecimiento")
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")  %>% left_join(hospitales %>% select(hospital_id,region), by = c("IdEstablecimiento" = "hospital_id"))
View(hospitales)
View(hospitales)
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")  %>% left_join(hospitales %>% select(IdEstablecimiento,region), by = c("IdEstablecimiento" = "hospital_id"))
View(output_2019)
View(input_2019)
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")  %>% left_join(hospitales %>% select(IdEstablecimiento,region))
View(all_2019)
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")
View(all_2019)
View(input_2019)
View(output_2019)
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")  %>% left_join(hospitales %>% select(IdEstablecimiento,region))
View(all_2019)
#VARIABLES
all_2019 <- inner_join(output_2019, input_2019, by = "IdEstablecimiento")  %>% right_join(hospitales %>% select(IdEstablecimiento,region))
View(all_2019)
